<!DOCTYPE html>
<style>
/* Diagram styling */
svg.diagram {
	background-color: hsl(30,20%, 95%);
}
svg.diagram path { 
	stroke-width: 3; 
	stroke: black;
	fill: rgba(0,0,0,0); /* no 'transparent', because Opera doesn't recognize it yet */
}
svg.diagram text {
	font: bold 14px monospace;
	text-anchor: middle;
}
svg.diagram text.label {
	text-anchor: start;
}
svg.diagram text.comment {
	font: italic 12px monospace;
}
svg.diagram rect {
	stroke-width: 3;
	stroke: black;
	fill: hsl(120, 100%, 90%);
}

/* Page styling */
body {
	background-color: hsl(30,20%, 95%);
}
h1 {
	font-family: sans-serif;
	font-size: 1em;
}
</style>
<script src='railroad-diagrams.js'></script>
<body>
<h1 id='ident'>IDENT</h1>
<script>
Diagram(
	Choice(0, Skip(), Terminal('-')),
	Choice(0, NonTerminal('name-start char'), NonTerminal('escape')),
	ZeroOrMore(
		Choice(0, NonTerminal('name char'), NonTerminal('escape')))).addTo();
</script>
<h1 id='function'>FUNCTION</h1>
<script>
Diagram(NonTerminal('IDENT'), Terminal('(')).addTo();
</script>
<h1 id='at-keyword'>AT-KEYWORD</h1>
<script>
Diagram(Terminal('@'), NonTerminal('IDENT')).addTo();
</script>
<h1 id='hash'>HASH</h1>
<script>
Diagram(Terminal('#'), NonTerminal('IDENT')).addTo();
</script>
<h1 id='string'>STRING</h1>
<script>
Diagram(
	Choice(0,
		Sequence(
			Terminal('"'),
			ZeroOrMore(
				Choice(0,
					NonTerminal('not " or \\'),
					NonTerminal('escape'))),
			Terminal('"')),
		Sequence(
			Terminal("'"),
			ZeroOrMore(
				Choice(0,
					NonTerminal("not ' or \\"),
					NonTerminal('escape'))),
			Terminal("'")))).addTo();
</script>
<h1 id='url'>URL</h1>
<script>
Diagram(
	Choice(0, Terminal('u'), Terminal('U')),
	Choice(0, Terminal('r'), Terminal('R')),
	Choice(0, Terminal('l'), Terminal('L')),
	Terminal('('),
	Choice(1,
		Optional(NonTerminal('WS')),
		Sequence(
			Optional(NonTerminal('WS')),
			NonTerminal('STRING'),
			Optional(NonTerminal('WS'))),
		Sequence(
			Optional(NonTerminal('WS')),
			OneOrMore(
				Choice(0,
					NonTerminal('not " \' ( ) WS or NPC'),
					NonTerminal('escape'))),
			Optional(NonTerminal('WS')))),
	Terminal(')')).addTo();
</script>
<h1>NUMBER</h1>
<script>
Diagram(
	Choice(1, Terminal('+'), Skip(), Terminal('-')),
	Choice(0,
		Sequence(
			OneOrMore(NonTerminal('digit')),
			Terminal('.'),
			OneOrMore(NonTerminal('digit'))),
		OneOrMore(NonTerminal('digit')),
		Sequence(
			Terminal('.'),
			OneOrMore(NonTerminal('digit')))),
	Choice(0,
		Skip(),
		Sequence(
			Choice(0, Terminal('e'), Terminal('E')),
			Choice(1, Terminal('+'), Skip(), Terminal('-')),
			OneOrMore(NonTerminal('digit'))))).addTo();
</script>
<h1>DIMENSION</h1>
<script>
Diagram(NonTerminal('NUMBER'), NonTerminal('IDENT')).addTo();
</script>
<h1>PERCENTAGE</h1>
<script>
Diagram(NonTerminal('NUMBER'), Terminal('%')).addTo();
</script>
<h1>UNICODE-RANGE</h1>
<script>
Diagram(
	Choice(0,
		Terminal('U'),
		Terminal('u')),
	Terminal('+'),
	Choice(0,
		Sequence(OneOrMore(NonTerminal('hex digit'), Comment('1-6 times'))),
		Sequence(
			ZeroOrMore(NonTerminal('hex digit'), Comment('1-5 times')),
			OneOrMore(Terminal('?'), Comment('1 to (6 - digits) times'))),
		Sequence(
			OneOrMore(NonTerminal('hex digit'), Comment('1-6 times')),
			Terminal('-'),
			OneOrMore(NonTerminal('hex digit'), Comment('1-6 times'))))).addTo();
</script>
<h1>COMMENT</h1>
<script>
Diagram(
	Terminal('/*'),
	ZeroOrMore(
		NonTerminal("anything but * followed by /")),
	Terminal('*/')).addTo();
</script>
<h1>CDO</h1>
<script>
Diagram(Terminal("<" + "!--")).addTo();
</script>
<h1>CDC</h1>
<script>
Diagram(Terminal("-->")).addTo();
</script>